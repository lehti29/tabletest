<div class="container">
  <div class="checkbox-container">
    <h2>
      Columns
    </h2>
    <div *ngFor="let column of allColumnsInfo">
      <mat-checkbox [checked]="column.isVisible" (change)="toggleColumn($event)" [value]="column.key" class="capitalize">
        {{column.key}}
      </mat-checkbox>
    </div>
    <form #login="ngForm" (ngSubmit)="onClickSubmit(login.value)">
      <mat-form-field>
        <mat-label>Column Name</mat-label>
        <input matInput type="text" name="columnName" [(ngModel)]="inputValue">
      </mat-form-field>
      <button mat-button type="submit" value="submit" color="primary">ADD</button>
    </form>
  </div>

  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8"
  cdkDropList cdkDropListLockAxis="x" cdkDropListOrientation="horizontal" (cdkDropListDropped)="drop($event)">
      <ng-container *ngFor="let column of displayedColumns; let i = index" [matColumnDef]="column">
        <th mat-header-cell *matHeaderCellDef class="capitalize" cdkDrag cdkDragBoundary=".header-row">
          <div class="drag-container" cdkDragHandle>
            <!-- <mat-icon cdkDragHandle class="drag-handle">drag_indicator</mat-icon> -->
          </div>
          <span class="column-name">{{column}}</span>
        </th>
        <td mat-cell *matCellDef="let element"> {{element[column]}} </td>
      </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns" class="header-row"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
